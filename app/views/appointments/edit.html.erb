<div class="container">
    <br>
    <div class="jumbotron">
        <div class="container">
            <h1>Appointments</h1>
            <%= link_to "New Appointment", new_appointment_path %>
        </div>
    </div>
    <%= link_to "<< back", :back %>

    <h2>Edit</h2>

    <%= form_for([@resource, @appointment]) do |f| %>
    <div class="form-group field">
        <%= f.label :title %><br />
        <%= f.text_field :title, autofocus: true, autocomplete: "title" %>
    </div>

    <div class="form-group field">
        <%= f.label :description %><br />
        <%= f.text_area :description, autofocus: true, autocomplete: "description" %>
    </div>

    <div class="form-group field">
        <%= f.label :start_date %><br />
        <%= f.datetime_field :start_date, autofocus: true, autocomplete: "start_date" %>
    </div>

    <div class="form-group field">
        <%= f.label :end_date %><br />
        <%= f.datetime_field :end_date, autofocus: true, autocomplete: "end_date" %>
    </div>
    <div class="form-group">
        <label>Guests</label>
        <%= @appointment_guests.find_each do |guest| %>
        <p>
            <%= link_to "x", appointment_guest_path(guest), data: {turbo_method: :delete}, :class => 'btn btn-sm btn-danger' %>
            <%= guest.email %>
        </p>
        <% end %>

        <div class="form-group">
            <div class="field" id="guest_field_div">
                <h6> more guests? <a class="btn btn-sm btn-primary" id="add_input_guest" color="white">+</a></h6>
                <%= f.text_field :guest_emails, name: "guest_emails[]", placeholder: "ex: email@email.com" %>
            </div>
        </div>

    </div>

    <div class="actions">
        <br />
        <%= f.submit "save", class: "btn btn-primary" %>
    </div>
    <% end %>
</div>